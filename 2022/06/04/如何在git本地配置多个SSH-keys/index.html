<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <link rel="alternate icon" type="image/png" href="/img/favicon.png">
    <title>南蓝的技术博客 | </title>
    
<link rel="stylesheet" href="/css/reset.css">

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/markdown.css">

    
<link rel="stylesheet" href="/css/fonts.css">

<meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div class="paper">
            <div class="paper-main">
                
                    <div class="post-header">
    <a class="logo" href="/">南蓝的技术博客</a>
    <a class="go-home" href="/">
        <svg width="8" height="14" viewBox="0 0 8 14">
            <path d="M7 1L1 7l6 6" stroke="#000" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </a>
</div>
                
                <div class="post-main">

    
        <div class="post-main-title">
            如何在git本地配置多个SSH keys
        </div>
        <div class="post-meta">
            2022-06-04
        </div>
    

    <div class="post-md">
        <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>公司用 gitlab，git 的地址用的 ssh 地址。众所周知，用 ssh 地址的话则需要在本地产生一个私钥和公钥；而自己的项目用的是 github，git 也用的是 ssh 地址<br>那么这个时候小心你的 .ssh 不要被覆盖了</p>
<h2 id="具体步骤"><a href="#具体步骤" class="headerlink" title="具体步骤"></a>具体步骤</h2><h3 id="生成一个-github-的-SSH-key"><a href="#生成一个-github-的-SSH-key" class="headerlink" title="生成一个 github 的 SSH key"></a>生成一个 github 的 SSH key</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &#x27;你github绑定的邮箱&#x27; -f ~/.ssh/github_id_rsa</span><br></pre></td></tr></table></figure>

<h3 id="生成一个-gitlab-的-SSH-key"><a href="#生成一个-gitlab-的-SSH-key" class="headerlink" title="生成一个 gitlab 的 SSH key"></a>生成一个 gitlab 的 SSH key</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&#x27;你公司绑定的邮箱&#x27;</span> -f ~<span class="regexp">/.ssh/gi</span>tlab_id_rsa</span><br></pre></td></tr></table></figure>

<p>几个参数介绍</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-t 指定密钥类型，默认是 rsa ，可以省略。</span><br><span class="line">-C 设置注释文字，比如邮箱。</span><br><span class="line">-f 指定密钥文件存储文件名</span><br></pre></td></tr></table></figure>


<h3 id="在-ssh下新建一个-config-的文件"><a href="#在-ssh下新建一个-config-的文件" class="headerlink" title="在.ssh下新建一个 config 的文件"></a>在.ssh下新建一个 config 的文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">touch config</span><br><span class="line"></span><br><span class="line">// 把以下拷贝进去</span><br><span class="line"># github</span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/github_id_rsa</span><br><span class="line"></span><br><span class="line"># gitlab</span><br><span class="line">Host gitlab.xx</span><br><span class="line">HostName gitlab.xx</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/gitlab_id_rsa</span><br></pre></td></tr></table></figure>

<p>以上步骤正常的话，你就会在~&#x2F;.ssh 下面看到</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/185ce412a57b41339109dbcee53a5fa5~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="分别在gitlab和github上配置SSH-keys"><a href="#分别在gitlab和github上配置SSH-keys" class="headerlink" title="分别在gitlab和github上配置SSH keys"></a>分别在gitlab和github上配置SSH keys</h3><p>拷贝公钥，记住是 <code>id_rsa.pub</code>,不要拷贝错了</p>
<h4 id="github"><a href="#github" class="headerlink" title="github"></a>github</h4><p>settings-&gt;SSH and GPG keys-&gt;New SSH key</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/557b0341fdd347b19d351caac3466f93~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="gitlab-也是如此"><a href="#gitlab-也是如此" class="headerlink" title="gitlab 也是如此"></a>gitlab 也是如此</h4><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://gitee.com/help/articles/4229#article-header0">Git配置多个SSH-Key</a></p>
<p><a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E7%94%9F%E6%88%90-SSH-%E5%85%AC%E9%92%A5">服务器上的 Git - 生成 SSH 公钥</a></p>
<h2 id="修改hosts文件"><a href="#修改hosts文件" class="headerlink" title="修改hosts文件"></a>修改hosts文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/hosts</span><br></pre></td></tr></table></figure>

    </div>

</div>
                

<link rel="stylesheet" href="/css/a11y-dark.min.css">


<script src="/js/highlight.min.js"></script>


<script src="/js/highlightjs-line-numbers.js"></script>


<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>

            </div>
        </div>
    </body>
</html>