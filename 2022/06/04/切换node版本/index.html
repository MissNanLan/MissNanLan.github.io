<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <link rel="alternate icon" type="image/png" href="/img/favicon.png">
    <title>南蓝的技术博客 | </title>
    
<link rel="stylesheet" href="/css/reset.css">

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/markdown.css">

    
<link rel="stylesheet" href="/css/fonts.css">

<meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div class="paper">
            <div class="paper-main">
                
                    <div class="post-header">
    <a class="logo" href="/">南蓝的技术博客</a>
    <a class="go-home" href="/">
        <svg width="8" height="14" viewBox="0 0 8 14">
            <path d="M7 1L1 7l6 6" stroke="#000" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </a>
</div>
                
                <div class="post-main">

    
        <div class="post-main-title">
            切换node版本
        </div>
        <div class="post-meta">
            2022-06-04
        </div>
    

    <div class="post-md">
        <h2 id="n"><a href="#n" class="headerlink" title="n"></a>n</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g n</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">n x.x.x 安装某个版本</span><br><span class="line"></span><br><span class="line">n lts 安装最新版本</span><br><span class="line"></span><br><span class="line">n stable 安装稳定版本lts</span><br><span class="line"></span><br><span class="line">n rm x.x.x 删除某个版本</span><br><span class="line"></span><br><span class="line">n use 16.14.2</span><br><span class="line"></span><br><span class="line">n 可以查看所有已安装的node版本，可以根据上下和回车选择要使用的版本</span><br><span class="line"></span><br><span class="line">n ls-remote --all 查看服务器上所有可用的版本</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><code>n ls-remote --all</code>这个命令真香，可以查看目前所有的node版本</p>
<h2 id="nvm"><a href="#nvm" class="headerlink" title="nvm"></a>nvm</h2><p>Node 版本管理器是一个用于管理多个已发布的 Node.js 不同版本的 bash 脚本。它允许你执行诸如“安装”、“卸载”以及“版本切换”等诸多功能。 使用<a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm#install--update-script">安装脚本</a>安装 nvm。</p>
<p>对于 Unix &#x2F; OS X 系统，Node.js 从源代码构建，并通过 <a target="_blank" rel="noopener" href="https://github.com/creationix/nvm">nvm</a> 安装到你所期望的地方。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">env VERSION=`python tools/getnodeversion.py` make install DESTDIR=`nvm_version_path v$VERSION` PREFIX=&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>随后你可以通过 <code>nvm</code> 在“发布版本”和“从源代码构建版本”中选择。</p>
<p>举个例子，如果你的 Node.js 版本是 v8.0.0-pre：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use 8</span><br></pre></td></tr></table></figure>

<p>一旦官方发布了版本，并且你希望卸载从源代码编译的版本，可以这样做：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm uninstall 8</span><br></pre></td></tr></table></figure>

<p>这个安装脚本比想象中复杂</p>
<h2 id="nvs"><a href="#nvs" class="headerlink" title="nvs"></a>nvs</h2><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows<a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/download/package-manager/#windows"></a></h4><p><code>nvs</code>版本管理器是一个跨平台，可用于 Windows、macOS 以及形如 Unix 的操作系统。</p>
<p>在 Windows 上安装 <code>nvs</code>，请到此 <a target="_blank" rel="noopener" href="https://github.com/jasongin/nvs/releases">发布页</a> 下载最新发布的 MSI 安装源。</p>
<p>你也可以使用 <code>chocolatey</code> 进行安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco install nvs</span><br></pre></td></tr></table></figure>

<h4 id="macOS，UnixLike"><a href="#macOS，UnixLike" class="headerlink" title="macOS，UnixLike"></a>macOS，UnixLike<a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/download/package-manager/#macos-unixlike"></a></h4><p>你可以在 <a target="_blank" rel="noopener" href="https://github.com/jasongin/nvs/blob/master/doc/SETUP.md#mac-linux">此处</a> 找到关于在 macOS &#x2F; 形如 Unix 操作系统的安装步骤文档。</p>
<h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><p>安装完成后，你可以使用 <code>nvs</code> 在不同版本的 node 中来回切换。</p>
<p>添加最新版本的 node：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvs add latest</span><br></pre></td></tr></table></figure>

<p>添加最新 LTS 版本的 node：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvs add lts</span><br></pre></td></tr></table></figure>

<p>然后运行 <code>nvs use</code> ，为当前脚本的 <code>PATH</code> 路径下添加一个 node 版本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ nvs use lts</span><br><span class="line">PATH -= %LOCALAPPDATA%\nvs\default</span><br><span class="line">PATH += %LOCALAPPDATA%\nvs\node\14.17.0\x64</span><br></pre></td></tr></table></figure>

<p>如果需要永久在 <code>PATH</code> 里添加，使用 <code>nvs link</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvs link lts</span><br></pre></td></tr></table></figure>



<p>我最常用还是<code>n</code></p>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><p><a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/download/package-manager">package-manager</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/jasongin/nvs">nvs</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm">nvm</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/tj/n">n</a></p>

    </div>

</div>
                

<link rel="stylesheet" href="/css/a11y-dark.min.css">


<script src="/js/highlight.min.js"></script>


<script src="/js/highlightjs-line-numbers.js"></script>


<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>

            </div>
        </div>
    </body>
</html>